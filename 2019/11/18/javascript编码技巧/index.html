<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JavaScript 编码简写技巧 | 阿海blog</title>
    <meta name="description" content="博客日志">
    
    
    <link rel="preload" href="/myblog/assets/css/0.styles.efd142df.css" as="style"><link rel="preload" href="/myblog/assets/js/app.cf86b132.js" as="script"><link rel="preload" href="/myblog/assets/js/3.02a0c52b.js" as="script"><link rel="preload" href="/myblog/assets/js/5.b253e24d.js" as="script"><link rel="preload" href="/myblog/assets/js/60.58311edb.js" as="script"><link rel="prefetch" href="/myblog/assets/js/10.ab463270.js"><link rel="prefetch" href="/myblog/assets/js/11.98394e95.js"><link rel="prefetch" href="/myblog/assets/js/12.0cedc2d4.js"><link rel="prefetch" href="/myblog/assets/js/13.b3171814.js"><link rel="prefetch" href="/myblog/assets/js/14.4fc0975f.js"><link rel="prefetch" href="/myblog/assets/js/15.9e838aa3.js"><link rel="prefetch" href="/myblog/assets/js/16.a3e98fdb.js"><link rel="prefetch" href="/myblog/assets/js/17.58e49973.js"><link rel="prefetch" href="/myblog/assets/js/18.55c963ed.js"><link rel="prefetch" href="/myblog/assets/js/19.e0748b9a.js"><link rel="prefetch" href="/myblog/assets/js/20.2e201121.js"><link rel="prefetch" href="/myblog/assets/js/21.dd7f3965.js"><link rel="prefetch" href="/myblog/assets/js/22.550ae3a4.js"><link rel="prefetch" href="/myblog/assets/js/23.0304d1fa.js"><link rel="prefetch" href="/myblog/assets/js/24.d772f9d4.js"><link rel="prefetch" href="/myblog/assets/js/25.aeb549d9.js"><link rel="prefetch" href="/myblog/assets/js/26.9518bd84.js"><link rel="prefetch" href="/myblog/assets/js/27.5c6bb228.js"><link rel="prefetch" href="/myblog/assets/js/28.483a6167.js"><link rel="prefetch" href="/myblog/assets/js/29.b53658b9.js"><link rel="prefetch" href="/myblog/assets/js/30.cb07eae1.js"><link rel="prefetch" href="/myblog/assets/js/31.738d8c28.js"><link rel="prefetch" href="/myblog/assets/js/32.c3fe5ae4.js"><link rel="prefetch" href="/myblog/assets/js/33.5ddd149a.js"><link rel="prefetch" href="/myblog/assets/js/34.85a7f6e4.js"><link rel="prefetch" href="/myblog/assets/js/35.f775e353.js"><link rel="prefetch" href="/myblog/assets/js/36.d811fd43.js"><link rel="prefetch" href="/myblog/assets/js/37.44048c34.js"><link rel="prefetch" href="/myblog/assets/js/38.c27302f4.js"><link rel="prefetch" href="/myblog/assets/js/39.ee40026a.js"><link rel="prefetch" href="/myblog/assets/js/4.d89400b6.js"><link rel="prefetch" href="/myblog/assets/js/40.6daca118.js"><link rel="prefetch" href="/myblog/assets/js/41.a768339f.js"><link rel="prefetch" href="/myblog/assets/js/42.bb599b1a.js"><link rel="prefetch" href="/myblog/assets/js/43.45dac5e6.js"><link rel="prefetch" href="/myblog/assets/js/44.be9e1fd5.js"><link rel="prefetch" href="/myblog/assets/js/45.69464a5b.js"><link rel="prefetch" href="/myblog/assets/js/46.4c6a2a65.js"><link rel="prefetch" href="/myblog/assets/js/47.acaae1eb.js"><link rel="prefetch" href="/myblog/assets/js/48.04fdd823.js"><link rel="prefetch" href="/myblog/assets/js/49.e2586f45.js"><link rel="prefetch" href="/myblog/assets/js/50.1386c3af.js"><link rel="prefetch" href="/myblog/assets/js/51.27480573.js"><link rel="prefetch" href="/myblog/assets/js/52.af125c64.js"><link rel="prefetch" href="/myblog/assets/js/53.54f8e36f.js"><link rel="prefetch" href="/myblog/assets/js/54.7ddf154f.js"><link rel="prefetch" href="/myblog/assets/js/55.712ebb58.js"><link rel="prefetch" href="/myblog/assets/js/56.5c8902a6.js"><link rel="prefetch" href="/myblog/assets/js/57.794b2964.js"><link rel="prefetch" href="/myblog/assets/js/58.aaef7782.js"><link rel="prefetch" href="/myblog/assets/js/59.aadc710c.js"><link rel="prefetch" href="/myblog/assets/js/6.00468cf7.js"><link rel="prefetch" href="/myblog/assets/js/61.e734d238.js"><link rel="prefetch" href="/myblog/assets/js/62.95ce8054.js"><link rel="prefetch" href="/myblog/assets/js/63.b9926306.js"><link rel="prefetch" href="/myblog/assets/js/64.1bee1444.js"><link rel="prefetch" href="/myblog/assets/js/65.4ceca4a2.js"><link rel="prefetch" href="/myblog/assets/js/66.c3f05729.js"><link rel="prefetch" href="/myblog/assets/js/67.6b39435c.js"><link rel="prefetch" href="/myblog/assets/js/68.73e9dd74.js"><link rel="prefetch" href="/myblog/assets/js/7.35d7f06d.js"><link rel="prefetch" href="/myblog/assets/js/8.90ceae7a.js"><link rel="prefetch" href="/myblog/assets/js/9.6519f079.js"><link rel="prefetch" href="/myblog/assets/js/vuejs-paginate.b4ae6543.js">
    <link rel="stylesheet" href="/myblog/assets/css/0.styles.efd142df.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="vuperess-theme-blog__global-layout"><section id="header-wrapper"><header id="header"><div class="header-wrapper"><div class="title"><a href="/myblog/myblog/" class="nav-link home-link">阿海blog
        </a></div> <div class="header-right-wrap"><ul class="nav"><li class="nav-item"><a href="/myblog/" class="nav-link">Blog</a></li><li class="nav-item"><a href="/myblog/tag/" class="nav-link">Tags</a></li></ul> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div></div></div></header> <div id="mobile-header"><div class="mobile-header-bar"><div class="mobile-header-title"><a href="/myblog/myblog/" class="nav-link mobile-home-link">阿海blog
      </a> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></div> <div class="mobile-menu-wrapper"><hr class="menu-divider"> <ul class="mobile-nav"><li class="mobile-nav-item"><a href="/myblog/" class="nav-link">Blog</a></li><li class="mobile-nav-item"><a href="/myblog/tag/" class="nav-link">Tags</a></li></ul></div></div></div></section> <div class="content-wrapper"><div id="vuperess-theme-blog__post-layout"><div class="vuepress-blog-theme-content content__default"><h1 id="javascript-编码简写技巧"><a href="#javascript-编码简写技巧" aria-hidden="true" class="header-anchor">#</a> JavaScript 编码简写技巧</h1> <h2 id="_1-三元操作符"><a href="#_1-三元操作符" aria-hidden="true" class="header-anchor">#</a> 1. 三元操作符</h2> <p>普通写法</p> <div class="language-javaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> x <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> answer<span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">&gt;</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    answer <span class="token operator">=</span> <span class="token string">'is greater'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    answer <span class="token operator">=</span> <span class="token string">'is lesser'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>简写</p> <div class="language-javaScript extra-class"><pre class="language-javascript"><code>
<span class="token keyword">const</span> answer <span class="token operator">=</span> x <span class="token operator">&gt;</span> <span class="token number">10</span> <span class="token operator">?</span> <span class="token string">'greater than 10'</span> <span class="token punctuation">:</span> <span class="token string">'less than 10'</span><span class="token punctuation">;</span>
</code></pre></div><p>也可以这样</p> <div class="language-javaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> answer <span class="token operator">=</span> x <span class="token operator">&gt;</span> <span class="token number">10</span> <span class="token operator">?</span> <span class="token string">&quot; greater than 10&quot;</span> <span class="token punctuation">:</span> x
</code></pre></div><h2 id="_2-缩短求值简写"><a href="#_2-缩短求值简写" aria-hidden="true" class="header-anchor">#</a> 2. 缩短求值简写</h2> <p>将变量值分配给另一个变量时，你可能需要确保源变量不为 null、undefined 或者不为空。你可以使用多个条件写一个很长的 if 语句，也可以使用缩短求值的简写办法
普通写法：</p> <div class="language-javaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>variable1 <span class="token operator">!==</span> <span class="token keyword">null</span> <span class="token operator">||</span> variable1 <span class="token operator">!==</span> <span class="token keyword">undefined</span> <span class="token operator">||</span> variable1 <span class="token operator">!==</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token keyword">let</span> variable2 <span class="token operator">=</span> variable1<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>简写：</p> <div class="language-javaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> variable2 <span class="token operator">=</span> variable1  <span class="token operator">||</span> <span class="token string">'new'</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_3-变量声明速简写"><a href="#_3-变量声明速简写" aria-hidden="true" class="header-anchor">#</a> 3. 变量声明速简写</h2> <p>在函数开始处声明变量并赋值是一个很好的习惯。这种简写方法可以同时声明多个变量，为您节省大量的时间和空间。</p> <p>普通写法：</p> <div class="language-javaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> x<span class="token punctuation">;</span>
<span class="token keyword">let</span> y<span class="token punctuation">;</span>
<span class="token keyword">let</span> z <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
</code></pre></div><p>简写</p> <div class="language-javaScript extra-class"><pre class="language-javascript"><code>
<span class="token keyword">let</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_4-if-条件为真的简写"><a href="#_4-if-条件为真的简写" aria-hidden="true" class="header-anchor">#</a> 4. If 条件为真的简写</h2> <p>这可能是微不足道的，但值得一提。在做 “ if 检查” 时，碰到条件为真时，比较运算操作可以省略。
普通写法</p> <div class="language-javaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>likeJavaScript <span class="token operator">===</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
</code></pre></div><p>简写</p> <div class="language-javaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>likeJavaScript<span class="token punctuation">)</span>
</code></pre></div><p>还有另一个例子。如果 “a” 不等于 true ，如下：
普通写法</p> <div class="language-javaScript extra-class"><pre class="language-javascript"><code>
<span class="token keyword">let</span> a<span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span> a <span class="token operator">!==</span> <span class="token boolean">true</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token comment">// do something...</span>
<span class="token punctuation">}</span>
</code></pre></div><p>简写</p> <div class="language-javaScript extra-class"><pre class="language-javascript"><code>
<span class="token keyword">let</span> a<span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>a <span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token comment">// do something...</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_5-javascript-for-循环简写"><a href="#_5-javascript-for-循环简写" aria-hidden="true" class="header-anchor">#</a> 5. JavaScript for 循环简写</h2> <p>如果你只想要简单的 JavaScript ，而不是依赖外部库，如jQuery或lodash，那这个小技巧会非常有用。</p> <p>普通写法：</p> <div class="language-javaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> allImgs<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
</code></pre></div><p>简写</p> <div class="language-javaScript extra-class"><pre class="language-javascript"><code>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> index <span class="token keyword">of</span> allImgs<span class="token punctuation">)</span>
</code></pre></div><p>Array.forEach 简写：</p> <div class="language-javaScript extra-class"><pre class="language-javascript"><code>
<span class="token keyword">function</span> <span class="token function">logArrayElements</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span> index<span class="token punctuation">,</span> array</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;a[&quot;</span> <span class="token operator">+</span> index <span class="token operator">+</span> <span class="token string">&quot;] = &quot;</span> <span class="token operator">+</span> element<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>logArrayElements<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// logs:</span>
<span class="token comment">// a[0] = 2</span>
<span class="token comment">// a[1] = 5</span>
<span class="token comment">// a[2] = </span>
</code></pre></div><h2 id="_6-缩短求值"><a href="#_6-缩短求值" aria-hidden="true" class="header-anchor">#</a> 6. 缩短求值</h2> <p>我们可以简单地使用缩短逻辑运算符，只用一行代码完成相同的事情，而不是写 6 行代码来分配缺省值。</p> <p>普通写法：</p> <div class="language-javaScript extra-class"><pre class="language-javascript"><code>
<span class="token keyword">let</span> dbHost<span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">DB_HOST</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  dbHost <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">DB_HOST</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  dbHost <span class="token operator">=</span> <span class="token string">'localhost'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>简写</p> <div class="language-javaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> dbHost <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">DB_HOST</span> <span class="token operator">||</span> <span class="token string">'localhost'</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_7-十进制数指数"><a href="#_7-十进制数指数" aria-hidden="true" class="header-anchor">#</a> 7. 十进制数指数</h2> <p>你可能见过这个这种写法。它本质上是一种比较花哨的数字表示法，省去了后面尾随的一堆零。例如，1e7 实际上表示 1 后面跟着 7 个零。它表示一个十进制基数指数 (JavaScript解释为浮点类型)，等于10,000,000。</p> <p>普通写法：</p> <div class="language-javaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre></div><p>简写</p> <div class="language-javaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">1e7</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token comment">// 以下将全部求值为 true</span>
<span class="token number">1e0</span> <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token number">1e1</span> <span class="token operator">===</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token number">1e2</span> <span class="token operator">===</span> <span class="token number">100</span><span class="token punctuation">;</span>
<span class="token number">1e3</span> <span class="token operator">===</span> <span class="token number">1000</span><span class="token punctuation">;</span>
<span class="token number">1e4</span> <span class="token operator">===</span> <span class="token number">10000</span><span class="token punctuation">;</span>
<span class="token number">1e5</span> <span class="token operator">===</span> <span class="token number">100000</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_8-对象属性简写"><a href="#_8-对象属性简写" aria-hidden="true" class="header-anchor">#</a> 8. 对象属性简写</h2> <p>在 JavaScript 中定义对象字面量非常容易。ES6 提供了一种更简单的方法来将属性分配给对象。如果 name 和 key 名字相同，则可以利用简写符号。</p> <p>普通写法：</p> <div class="language-javaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> x<span class="token punctuation">:</span>x<span class="token punctuation">,</span> y<span class="token punctuation">:</span>y <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>简写</p> <div class="language-javaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>x<span class="token punctuation">,</span>y<span class="token punctuation">}</span>
</code></pre></div><h2 id="_9-箭头函数简写"><a href="#_9-箭头函数简写" aria-hidden="true" class="header-anchor">#</a> 9. 箭头函数简写</h2> <p>普通写法的函数很容易阅读和书写，但是一旦开始在其他函数调用中嵌套它们，它们就会变得有点冗长和混乱。</p> <p>普通写法：</p> <div class="language-javaScript extra-class"><pre class="language-javascript"><code>
<span class="token keyword">function</span> <span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Hello'</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Loaded'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

list<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>简写：</p> <div class="language-javaScript extra-class"><pre class="language-javascript"><code>
<span class="token function-variable function">sayHello</span> <span class="token operator">=</span> <span class="token parameter">name</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Hello'</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Loaded'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

list<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_10-隐式返回简写"><a href="#_10-隐式返回简写" aria-hidden="true" class="header-anchor">#</a> 10. 隐式返回简写</h2> <p>我们经常使用 return 关键字来返回一个函数的最终结果。使用单条语句的箭头函数将隐式返回求值结果（该函数必须省略大括号（{}）才能省略 return 关键字）。</p> <p>要返回多行表达式（如对象字面量），那么需要用 () 而不是 {} 来包裹你的函数体。这样可以确保代码作为一个单独的表达式被求值返回。</p> <p>普通写法：</p> <div class="language-javaScript extra-class"><pre class="language-javascript"><code>
<span class="token keyword">function</span> <span class="token function">calcCircumference</span><span class="token punctuation">(</span><span class="token parameter">diameter</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> diameter
<span class="token punctuation">}</span>
</code></pre></div><p>简写：</p> <div class="language-javaScript extra-class"><pre class="language-javascript"><code>
<span class="token function-variable function">calcCircumference</span> <span class="token operator">=</span> <span class="token parameter">diameter</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
  Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> diameter<span class="token punctuation">;</span>
<span class="token punctuation">)</span>
</code></pre></div><h2 id="_11-参数默认值"><a href="#_11-参数默认值" aria-hidden="true" class="header-anchor">#</a> 11. 参数默认值</h2> <p>你可以使用 if 语句为函数参数定义默认值。在 ES6 中，你可以在函数声明本身中定义参数默认值。</p> <p>普通写法：</p> <div class="language-javaScript extra-class"><pre class="language-javascript"><code>
<span class="token keyword">function</span> <span class="token function">volume</span><span class="token punctuation">(</span><span class="token parameter">l<span class="token punctuation">,</span> w<span class="token punctuation">,</span> h</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>w <span class="token operator">===</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span>
    w <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>h <span class="token operator">===</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span>
    h <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> l <span class="token operator">*</span> w <span class="token operator">*</span> h<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>简写</p> <div class="language-javaScript extra-class"><pre class="language-javascript"><code><span class="token function-variable function">volume</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">l<span class="token punctuation">,</span> w <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">,</span> h <span class="token operator">=</span> <span class="token number">4</span></span> <span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>l <span class="token operator">*</span> w <span class="token operator">*</span> h<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">volume</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">//output: 24</span>
</code></pre></div><h2 id="_12-模板字面量"><a href="#_12-模板字面量" aria-hidden="true" class="header-anchor">#</a> 12. 模板字面量</h2> <p>你是不是已经厌倦了用 ' + ' 来连接多个变量拼接成一个字符串？有没有更简单的方式来完成吗？如果你可以使用 ES6 的话，那么恭喜你，你要做的只是使用反引号和 ${} 来包裹你的变量。</p> <p>普通写法：</p> <div class="language-javaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> welcome <span class="token operator">=</span> <span class="token string">'You have logged in as '</span> <span class="token operator">+</span> first <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> last <span class="token operator">+</span> <span class="token string">'.'</span>

<span class="token keyword">const</span> db <span class="token operator">=</span> <span class="token string">'http://'</span> <span class="token operator">+</span> host <span class="token operator">+</span> <span class="token string">':'</span> <span class="token operator">+</span> port <span class="token operator">+</span> <span class="token string">'/'</span> <span class="token operator">+</span> database<span class="token punctuation">;</span>
</code></pre></div><p>简写</p> <div class="language-javaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> welcome <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">You have logged in as </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>first<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>last<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

<span class="token keyword">const</span> db <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">http://</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>host<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>port<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>database<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_13-解构赋值简写"><a href="#_13-解构赋值简写" aria-hidden="true" class="header-anchor">#</a> 13. 解构赋值简写</h2> <p>如果你正在使用任何流行的 web 框架，那么你很有可能会使用数组或者对象字面量形式的数据在组件和 API 之间传递信息。一旦组件接收到数据对象，你就需要将其展开。</p> <p>普通写法：</p> <div class="language-javaScript extra-class"><pre class="language-javascript"><code>
<span class="token keyword">import</span> <span class="token punctuation">{</span> observable<span class="token punctuation">,</span> action<span class="token punctuation">,</span> runInAction <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'mobx'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token punctuation">{</span> store<span class="token punctuation">,</span> form<span class="token punctuation">,</span> loading<span class="token punctuation">,</span> errors<span class="token punctuation">,</span> entity <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">;</span>
</code></pre></div><p>你甚至可以给变量重新分配变量名：</p> <div class="language-javaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> store<span class="token punctuation">,</span> form<span class="token punctuation">,</span> loading<span class="token punctuation">,</span> errors<span class="token punctuation">,</span> entity<span class="token punctuation">:</span>contact <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">;</span>
</code></pre></div><h2 id="_14-多行字符串简写"><a href="#_14-多行字符串简写" aria-hidden="true" class="header-anchor">#</a> 14. 多行字符串简写</h2> <p>如果你曾经发现自己需要在代码中编写多行字符串，那么你将会这样写：</p> <p>简写</p> <div class="language-javaScript extra-class"><pre class="language-javascript"><code>
<span class="token keyword">const</span> lorem <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Lorem ipsum dolor sit amet, consectetur
    adipisicing elit, sed do eiusmod tempor incididunt
    ut labore et dolore magna aliqua. Ut enim ad minim
    veniam, quis nostrud exercitation ullamco laboris
    nisi ut aliquip ex ea commodo consequat. Duis aute
    irure dolor in reprehenderit in voluptate velit esse.</span><span class="token template-punctuation string">`</span></span>
</code></pre></div><h2 id="_15-展开运算符简写"><a href="#_15-展开运算符简写" aria-hidden="true" class="header-anchor">#</a> 15. 展开运算符简写</h2> <p>普通写法</p> <div class="language-javaScript extra-class"><pre class="language-javascript"><code>
<span class="token comment">// 拼接数组</span>
<span class="token keyword">const</span> odd <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> nums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span> <span class="token punctuation">,</span><span class="token number">4</span> <span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>odd<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 克隆数组</span>
<span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> arr2 <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>简写</p> <div class="language-javaScript extra-class"><pre class="language-javascript"><code><span class="token comment">// 拼接数组</span>
<span class="token keyword">const</span> odd <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> nums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span> <span class="token punctuation">,</span><span class="token number">4</span> <span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token operator">...</span>odd<span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [ 2, 4, 6, 1, 3, 5 ]</span>

<span class="token comment">// 克隆数组</span>
<span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> arr2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>arr<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p>和 concat() 函数不同，你可以在另一个数组里的任意位置插入一个数组。</p> <div class="language-javaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> odd <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> nums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">...</span>odd<span class="token punctuation">,</span> <span class="token number">4</span> <span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p>你也可以将展开运算符和 ES6 解构赋值结合起来使用：</p> <div class="language-javaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> <span class="token operator">...</span>z <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> c<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> d<span class="token punctuation">:</span> <span class="token number">4</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">// 1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token comment">// 2</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>z<span class="token punctuation">)</span> <span class="token comment">// { c: 3, d: 4 }</span>
</code></pre></div><h2 id="_16-强制参数简写"><a href="#_16-强制参数简写" aria-hidden="true" class="header-anchor">#</a> 16. 强制参数简写</h2> <p>普通写法</p> <div class="language-javaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">bar</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>bar <span class="token operator">===</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'Missing parameter!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> bar<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>简写</p> <div class="language-javaScript extra-class"><pre class="language-javascript"><code>
<span class="token function-variable function">mandatory</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'Missing parameter!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">bar <span class="token operator">=</span> <span class="token function">mandatory</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> bar<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_17-array-find-简写"><a href="#_17-array-find-简写" aria-hidden="true" class="header-anchor">#</a> 17. Array.find 简写</h2> <p>如果你曾经使用原生 JavaScript 写一个查找函数，你可能会使用 for 循环。在 ES6 中，你可以使用名为find()的新数组函数。</p> <p>普通写法：</p> <div class="language-javaScript extra-class"><pre class="language-javascript"><code>
<span class="token keyword">const</span> pets <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> type<span class="token punctuation">:</span> <span class="token string">'Dog'</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">'Max'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> type<span class="token punctuation">:</span> <span class="token string">'Cat'</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">'Karl'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> type<span class="token punctuation">:</span> <span class="token string">'Dog'</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">'Tommy'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
 
<span class="token keyword">function</span> <span class="token function">findDog</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>pets <span class="token punctuation">.</span>length<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>pets<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">'Dog'</span> <span class="token operator">&amp;&amp;</span> pets<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>name <span class="token operator">===</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> pets<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>简写：</p> <div class="language-javaScript extra-class"><pre class="language-javascript"><code>pet <span class="token operator">=</span> pets<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token parameter">pet</span> <span class="token operator">=&gt;</span> pet<span class="token punctuation">.</span>type <span class="token operator">===</span><span class="token string">'Dog'</span> <span class="token operator">&amp;&amp;</span> pet<span class="token punctuation">.</span>name <span class="token operator">===</span> <span class="token string">'Tommy'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pet<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { type: 'Dog', name: 'Tommy' }</span>
</code></pre></div><h2 id="_18-object-key-简写"><a href="#_18-object-key-简写" aria-hidden="true" class="header-anchor">#</a> 18. Object[key] 简写</h2> <p>你知道 Foo.bar 可以写成 Foo['bar'] 吗? 起初，似乎没有什么理由说为什么让你这样写。但是，这种表示法为您提供了编写可重用代码的构建块。</p> <div class="language-javaScript extra-class"><pre class="language-javascript"><code>
<span class="token keyword">function</span> <span class="token function">validate</span><span class="token punctuation">(</span><span class="token parameter">values</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>values<span class="token punctuation">.</span>first<span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>values<span class="token punctuation">.</span>last<span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token punctuation">{</span>first<span class="token punctuation">:</span><span class="token string">'Bruce'</span><span class="token punctuation">,</span>last<span class="token punctuation">:</span><span class="token string">'Wayne'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre></div><p>这个函数很好的实现了所需的功能。但是，考虑一个场景，在这个场景中，你有非常多的表单需要验证，但是需要使用不同的字段和规则。那么构建一个在运行时被配置的通用验证函数岂不是更好？</p> <p>简写：</p> <div class="language-javaScript extra-class"><pre class="language-javascript"><code>
<span class="token comment">// 对象验证规则</span>
<span class="token keyword">const</span> schema <span class="token operator">=</span> <span class="token punctuation">{</span>
  first<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    required<span class="token punctuation">:</span><span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  last<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    required<span class="token punctuation">:</span><span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 通用的验证函数</span>
<span class="token keyword">const</span> <span class="token function-variable function">validate</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">schema<span class="token punctuation">,</span> values</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span><span class="token punctuation">(</span>field <span class="token keyword">in</span> schema<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>schema<span class="token punctuation">[</span>field<span class="token punctuation">]</span><span class="token punctuation">.</span>required<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>values<span class="token punctuation">[</span>field<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">validate</span><span class="token punctuation">(</span>schema<span class="token punctuation">,</span> <span class="token punctuation">{</span>first<span class="token punctuation">:</span><span class="token string">'Bruce'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">validate</span><span class="token punctuation">(</span>schema<span class="token punctuation">,</span> <span class="token punctuation">{</span>first<span class="token punctuation">:</span><span class="token string">'Bruce'</span><span class="token punctuation">,</span>last<span class="token punctuation">:</span><span class="token string">'Wayne'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre></div><p>现在创建了一个可以在所有的表单里重用的验证函数，而不必为每个表单单独写一个特定的验证函数。</p> <h2 id="_19-双位非运算符简写"><a href="#_19-双位非运算符简写" aria-hidden="true" class="header-anchor">#</a> 19. 双位非运算符简写</h2> <p>位操作符是你在刚学习 JavaScript 时会学到的一个特性，但是如果你不处理二进制的话，基本上是从来都不会用上的。</p> <p>但是，双位运算符有一个非常实用的使用场景：可以用来代替 Math.floor。双位非运算符的优势在于它执行相同操作的速度更快。你可以在这里查看更多关于位运算符的知识。
普通写法：</p> <div class="language-javaScript extra-class"><pre class="language-javascript"><code>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span><span class="token number">4.9</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">4</span>  <span class="token comment">//true</span>
</code></pre></div><p>简写：</p> <div class="language-javaScript extra-class"><pre class="language-javascript"><code><span class="token operator">~</span><span class="token operator">~</span><span class="token number">4.9</span> <span class="token operator">===</span> <span class="token number">4</span>  <span class="token comment">//true</span>
</code></pre></div><p>注：按位运算符方法执行很快，当你执行数百万这样的操作非常适用，速度明显优于其他方法。但是代码的可读性比较差。还有一个特别要注意的地方，所有的按位运算都以带符号的32位整数进行。处理比较大的数字时（当数字范围超出 ±2^31?1 即：2147483647），会有一些异常情况。使用的时候明确的检查输入数值的范围。具体可以查看 ()[]
<a href="https://www.html.cn/archives/8488" target="_blank" rel="noopener noreferrer">你可能不知道的 JavaScript 中数字取整：向上取整，向下取整，四舍五入，舍去小数<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="_20-指数幂简写"><a href="#_20-指数幂简写" aria-hidden="true" class="header-anchor">#</a> 20.指数幂简写</h2> <p>数学指数幂函数的简写：</p> <p>普通写法:</p> <div class="language-javaScript extra-class"><pre class="language-javascript"><code>Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 8</span>
Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 4</span>
Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 64</span>
</code></pre></div><p>简写</p> <div class="language-javaScript extra-class"><pre class="language-javascript"><code>
<span class="token number">2</span><span class="token operator">**</span><span class="token number">3</span> <span class="token comment">// 8</span>
<span class="token number">2</span><span class="token operator">**</span><span class="token number">4</span> <span class="token comment">// 4</span>
<span class="token number">4</span><span class="token operator">**</span><span class="token number">3</span> <span class="token comment">// 64</span>
</code></pre></div><h2 id="_21-将字符串转换为数字"><a href="#_21-将字符串转换为数字" aria-hidden="true" class="header-anchor">#</a> 21.将字符串转换为数字</h2> <p>有时您的代码会接收到字符串格式的数据，但需要以数字格式进行处理。没什么大不了的，我们可以快速转换。</p> <p>普通写法:</p> <div class="language-javaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> num1 <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">&quot;100&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> num2 <span class="token operator">=</span>  <span class="token function">parseFloat</span><span class="token punctuation">(</span><span class="token string">&quot;100.01&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>简写</p> <div class="language-javaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> num1 <span class="token operator">=</span> <span class="token operator">+</span><span class="token string">&quot;100&quot;</span><span class="token punctuation">;</span> <span class="token comment">// converts to int data type</span>
<span class="token keyword">const</span> num2 <span class="token operator">=</span>  <span class="token operator">+</span><span class="token string">&quot;100.01&quot;</span><span class="token punctuation">;</span> <span class="token comment">// converts to float data type</span>
</code></pre></div><h2 id="_22-object属性赋值"><a href="#_22-object属性赋值" aria-hidden="true" class="header-anchor">#</a> 22. Object属性赋值</h2> <p>考虑以下代码：</p> <div class="language-javaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> fname <span class="token operator">=</span> <span class="token punctuation">{</span> firstName <span class="token punctuation">:</span> <span class="token string">'Black'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> lname <span class="token operator">=</span> <span class="token punctuation">{</span> lastName <span class="token punctuation">:</span> <span class="token string">'Panther'</span><span class="token punctuation">}</span>
</code></pre></div><p>如何将它们合并成一个对象?一种方法是编写一个函数，将数据从第二个对象复制到第一个对象。不幸的是，这可能不是您想要的—您可能需要创建一个全新的对象而不改变任何现有对象。最简单的方法是使用ES6中引入的函数<code>Object.assign</code>：</p> <div class="language-javaScript extra-class"><pre class="language-javascript"><code>
<span class="token keyword">let</span> full_names <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>fname<span class="token punctuation">,</span> lname<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>你也可以使用在ES8中引入的对象销毁符号:</p> <div class="language-javaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> full_names <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token operator">...</span>fname<span class="token punctuation">,</span> <span class="token operator">...</span>lname<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>可以合并的对象属性的数量没有限制。如果确实具有具有相同属性名称的对象，则值将按照它们被合并的顺序被覆盖。</p> <h2 id="_23-速记按位索引"><a href="#_23-速记按位索引" aria-hidden="true" class="header-anchor">#</a> 23.速记按位索引</h2> <p>使用数组执行查找时，indexOf()函数用于检索要查找的项目的位置。如果找不到项目，则返回值-1。在JavaScript中，数字0被视为“falsy”，而大于或小于数字0被视为“truthy”。因此，必须像这样编写正确的代码。</p> <p>普通写法：</p> <div class="language-javaScript extra-class"><pre class="language-javascript"><code>
<span class="token keyword">if</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// Confirm item IS found</span>

<span class="token punctuation">}</span>

<span class="token keyword">if</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// Confirm item IS NOT found</span>

<span class="token punctuation">}</span>
</code></pre></div><p>简写：</p> <div class="language-javaScript extra-class"><pre class="language-javascript"><code>
<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">~</span>arr<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// Confirm item IS found</span>

<span class="token punctuation">}</span>

<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token operator">~</span>arr<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// Confirm item IS NOT found</span>

<span class="token punctuation">}</span>
</code></pre></div><p><code>bitwise(~)</code>运算符将为除-1以外的任何值返回一个truthy值。否定它就像做一样简单<code>!~</code>。或者，我们也可以使用<code>include()</code>函数：</p> <div class="language-javaScript extra-class"><pre class="language-javascript"><code>
<span class="token keyword">if</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// Returns true if the item exists, false if it doesn't</span>

<span class="token punctuation">}</span>
</code></pre></div><h2 id="_24-object-entries"><a href="#_24-object-entries" aria-hidden="true" class="header-anchor">#</a> 24. Object.entries()</h2> <p>这是ES8中引入的一个特性，允许您将文字对象转换为键/值对数组。请看下面的例子：</p> <div class="language-javaScript extra-class"><pre class="language-javascript"><code>
<span class="token keyword">const</span> credits <span class="token operator">=</span> <span class="token punctuation">{</span> producer<span class="token punctuation">:</span> <span class="token string">'John'</span><span class="token punctuation">,</span> director<span class="token punctuation">:</span> <span class="token string">'Jane'</span><span class="token punctuation">,</span> assistant<span class="token punctuation">:</span> <span class="token string">'Peter'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> arr <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>credits<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/** Output:
[ [ 'producer', 'John' ],
  [ 'director', 'Jane' ],
  [ 'assistant', 'Peter' ]
]
**/</span>
</code></pre></div><h2 id="_25-object-values"><a href="#_25-object-values" aria-hidden="true" class="header-anchor">#</a> 25. Object.values()</h2> <p>这也是ES8中引入的一个新特性，它执行与<code>Object.entries()</code>类似的功能，但没有关键部分</p> <div class="language-javaScript extra-class"><pre class="language-javascript"><code>
<span class="token keyword">const</span> credits <span class="token operator">=</span> <span class="token punctuation">{</span> producer<span class="token punctuation">:</span> <span class="token string">'John'</span><span class="token punctuation">,</span> director<span class="token punctuation">:</span> <span class="token string">'Jane'</span><span class="token punctuation">,</span> assistant<span class="token punctuation">:</span> <span class="token string">'Peter'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> arr <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span>credits<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/** Output:
[ 'John', 'Jane', 'Peter' ]
**/</span>
</code></pre></div></div> <div class="sticker vuepress-toc"><div class="vuepress-toc-item vuepress-toc-h2 active"><a href="#_1-三元操作符" title="1. 三元操作符">1. 三元操作符</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#_2-缩短求值简写" title="2. 缩短求值简写">2. 缩短求值简写</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#_3-变量声明速简写" title="3. 变量声明速简写">3. 变量声明速简写</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#_4-if-条件为真的简写" title="4. If 条件为真的简写">4. If 条件为真的简写</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#_5-javascript-for-循环简写" title="5. JavaScript for 循环简写">5. JavaScript for 循环简写</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#_6-缩短求值" title="6. 缩短求值">6. 缩短求值</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#_7-十进制数指数" title="7. 十进制数指数">7. 十进制数指数</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#_8-对象属性简写" title="8. 对象属性简写">8. 对象属性简写</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#_9-箭头函数简写" title="9. 箭头函数简写">9. 箭头函数简写</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#_10-隐式返回简写" title="10. 隐式返回简写">10. 隐式返回简写</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#_11-参数默认值" title="11. 参数默认值">11. 参数默认值</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#_12-模板字面量" title="12. 模板字面量">12. 模板字面量</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#_13-解构赋值简写" title="13. 解构赋值简写">13. 解构赋值简写</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#_14-多行字符串简写" title="14. 多行字符串简写">14. 多行字符串简写</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#_15-展开运算符简写" title="15. 展开运算符简写">15. 展开运算符简写</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#_16-强制参数简写" title="16. 强制参数简写">16. 强制参数简写</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#_17-array-find-简写" title="17. Array.find 简写">17. Array.find 简写</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#_18-object-key-简写" title="18. Object[key] 简写">18. Object[key] 简写</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#_19-双位非运算符简写" title="19. 双位非运算符简写">19. 双位非运算符简写</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#_20-指数幂简写" title="20.指数幂简写">20.指数幂简写</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#_21-将字符串转换为数字" title="21.将字符串转换为数字">21.将字符串转换为数字</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#_22-object属性赋值" title="22. Object属性赋值">22. Object属性赋值</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#_23-速记按位索引" title="23.速记按位索引">23.速记按位索引</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#_24-object-entries" title="24. Object.entries()">24. Object.entries()</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#_25-object-values" title="25. Object.values()">25. Object.values()</a></div></div></div></div> <footer class="footer" data-v-0d113134><div class="footer-left-wrap" data-v-0d113134><ul class="contact" data-v-0d113134><li class="contact-item" data-v-0d113134><a href="https://github.com/ulivz" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-0d113134><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github" data-v-0d113134><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22" data-v-0d113134></path></svg>
          
        </a></li><li class="contact-item" data-v-0d113134><a href="https://twitter.com/_ulivz" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-0d113134><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-twitter" data-v-0d113134><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z" data-v-0d113134></path></svg>
          
        </a></li></ul></div> <div class="footer-right-wrap" data-v-0d113134><ul class="copyright" data-v-0d113134><li class="copyright-item" data-v-0d113134><a href="https://policies.google.com/privacy?hl=en-US" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-0d113134>Privacy Policy</a></li><li class="copyright-item" data-v-0d113134><a href="/myblog/2019/11/18/javascript%E7%BC%96%E7%A0%81%E6%8A%80%E5%B7%A7/.html" class="nav-link" data-v-0d113134>MIT Licensed | Copyright © 2018-present Vue.js</a></li></ul></div></footer></div><div class="global-ui"></div></div>
    <script src="/myblog/assets/js/app.cf86b132.js" defer></script><script src="/myblog/assets/js/3.02a0c52b.js" defer></script><script src="/myblog/assets/js/5.b253e24d.js" defer></script><script src="/myblog/assets/js/60.58311edb.js" defer></script>
  </body>
</html>
